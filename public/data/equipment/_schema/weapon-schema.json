{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://megamek-web.app/schemas/weapon.json",
  "title": "BattleTech Weapon",
  "description": "Schema for BattleTech weapon equipment definitions",
  "type": "object",
  "required": [
    "id",
    "name",
    "category",
    "subType",
    "techBase",
    "rulesLevel",
    "damage",
    "heat",
    "ranges",
    "weight",
    "criticalSlots",
    "costCBills",
    "battleValue",
    "introductionYear"
  ],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Unique identifier for the weapon (kebab-case)"
    },
    "name": {
      "type": "string",
      "minLength": 1,
      "description": "Display name of the weapon"
    },
    "category": {
      "type": "string",
      "enum": ["Energy", "Ballistic", "Missile", "Physical", "Artillery"],
      "description": "Primary weapon category"
    },
    "subType": {
      "type": "string",
      "description": "Specific weapon sub-type within the category"
    },
    "techBase": {
      "type": "string",
      "enum": ["INNER_SPHERE", "CLAN", "BOTH"],
      "description": "Technology base for the weapon"
    },
    "rulesLevel": {
      "type": "string",
      "enum": ["INTRODUCTORY", "STANDARD", "ADVANCED", "EXPERIMENTAL", "UNOFFICIAL"],
      "description": "Rules level/complexity"
    },
    "damage": {
      "oneOf": [
        { "type": "number", "minimum": 0 },
        { "type": "string", "description": "Variable damage like '1/missile'" }
      ],
      "description": "Damage value or formula"
    },
    "heat": {
      "type": "number",
      "minimum": 0,
      "description": "Heat generated when firing"
    },
    "ranges": {
      "type": "object",
      "required": ["minimum", "short", "medium", "long"],
      "properties": {
        "minimum": {
          "type": "number",
          "minimum": 0,
          "description": "Minimum range (no penalty inside)"
        },
        "short": {
          "type": "number",
          "minimum": 0,
          "description": "Short range bracket"
        },
        "medium": {
          "type": "number",
          "minimum": 0,
          "description": "Medium range bracket"
        },
        "long": {
          "type": "number",
          "minimum": 0,
          "description": "Long range bracket"
        },
        "extreme": {
          "type": "number",
          "minimum": 0,
          "description": "Extreme range bracket (optional)"
        }
      },
      "additionalProperties": false
    },
    "weight": {
      "type": "number",
      "minimum": 0,
      "description": "Weight in tons"
    },
    "criticalSlots": {
      "type": "integer",
      "minimum": 0,
      "description": "Number of critical slots required"
    },
    "ammoPerTon": {
      "type": "integer",
      "minimum": 1,
      "description": "Shots per ton of ammunition (if applicable)"
    },
    "costCBills": {
      "type": "number",
      "minimum": 0,
      "description": "Cost in C-Bills"
    },
    "battleValue": {
      "type": "number",
      "minimum": 0,
      "description": "Battle Value for the weapon"
    },
    "introductionYear": {
      "type": "integer",
      "minimum": 1950,
      "maximum": 3200,
      "description": "Year the weapon was introduced"
    },
    "extinctionYear": {
      "type": "integer",
      "minimum": 1950,
      "maximum": 3200,
      "description": "Year the weapon became extinct (if applicable)"
    },
    "reintroductionYear": {
      "type": "integer",
      "minimum": 1950,
      "maximum": 3200,
      "description": "Year the weapon was reintroduced (if applicable)"
    },
    "isExplosive": {
      "type": "boolean",
      "default": false,
      "description": "Whether the weapon causes ammo explosions"
    },
    "special": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Special abilities or rules"
    },
    "flags": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Equipment flags for rules processing"
    }
  },
  "additionalProperties": false
}

