/**
 * Unit Card Print Styles
 *
 * Print-optimized styles for unit cards.
 * These styles are designed to produce clean, readable printouts.
 *
 * @spec openspec/specs/add-test-coverage-gaps/spec.md
 */

/* =============================================================================
   PRINT MEDIA QUERY
   ============================================================================= */

@media print {
  /* ---------------------------------------------------------------------------
     Page Setup
     --------------------------------------------------------------------------- */
  @page {
    size: A4;
    margin: 15mm;
  }

  /* ---------------------------------------------------------------------------
     Reset and Base
     --------------------------------------------------------------------------- */
  body {
    font-family:
      'Segoe UI',
      system-ui,
      -apple-system,
      sans-serif;
    font-size: 10pt;
    line-height: 1.4;
    color: #000;
    background: #fff;
  }

  /* ---------------------------------------------------------------------------
     Hide Non-Print Elements
     --------------------------------------------------------------------------- */

  /* Hide navigation, sidebars, and interactive elements */
  nav,
  aside,
  header,
  footer,
  .no-print,
  [data-no-print],
  .sidebar,
  .navigation {
    display: none !important;
  }

  /* Hide action buttons - they're not useful in print */
  .unit-card-actions,
  [data-testid='unit-card-actions'],
  button,
  .btn,
  [role='button'] {
    display: none !important;
  }

  /* Hide interactive elements */
  input,
  select,
  textarea,
  .tooltip,
  .popover,
  .modal,
  .dropdown-menu {
    display: none !important;
  }

  /* ---------------------------------------------------------------------------
     Unit Card Container
     --------------------------------------------------------------------------- */
  .unit-card,
  [data-testid='unit-card'] {
    /* Remove shadows and rounded corners for print */
    box-shadow: none !important;
    border-radius: 0 !important;

    /* Ensure full width */
    width: 100% !important;
    max-width: none !important;

    /* Remove background colors */
    background-color: #fff !important;

    /* Add border for definition */
    border: 1px solid #333 !important;

    /* Page break handling */
    page-break-inside: avoid;
    break-inside: avoid;

    /* Margin between cards */
    margin-bottom: 10mm;
  }

  /* ---------------------------------------------------------------------------
     Unit Card Header
     --------------------------------------------------------------------------- */
  .unit-card-header,
  [data-testid='unit-card-header'] {
    /* High contrast header */
    background-color: #1a1a1a !important;
    color: #fff !important;
    padding: 3mm 4mm;
    border-bottom: 2px solid #000;
  }

  .unit-card-header h1,
  .unit-card-header h2,
  .unit-card-header h3 {
    color: #fff !important;
    font-weight: 700;
    margin: 0;
  }

  .unit-card-header .unit-name {
    font-size: 14pt;
  }

  .unit-card-header .unit-model {
    font-size: 11pt;
    font-weight: 400;
  }

  /* ---------------------------------------------------------------------------
     Badges and Tags
     --------------------------------------------------------------------------- */
  .badge,
  [data-testid='badge'] {
    /* High contrast badges */
    background-color: #333 !important;
    color: #fff !important;
    border: 1px solid #000 !important;
    padding: 1mm 2mm;
    font-size: 8pt;
    border-radius: 1mm;
  }

  /* Variant badges for print */
  .badge-tech-base {
    background-color: #555 !important;
  }

  .badge-rules-level {
    background-color: #666 !important;
  }

  /* ---------------------------------------------------------------------------
     Section Headers
     --------------------------------------------------------------------------- */
  .unit-card-section-header,
  .section-title {
    font-weight: 700;
    font-size: 10pt;
    border-bottom: 1px solid #ccc;
    padding-bottom: 1mm;
    margin-bottom: 2mm;
    color: #000 !important;
  }

  /* ---------------------------------------------------------------------------
     Stats Grid
     --------------------------------------------------------------------------- */
  .unit-card-stats,
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2mm;
    padding: 3mm;
  }

  .stat-item {
    text-align: center;
    padding: 2mm;
    border: 1px solid #ccc;
  }

  .stat-label {
    font-size: 8pt;
    color: #666 !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .stat-value {
    font-size: 12pt;
    font-weight: 700;
    color: #000 !important;
  }

  /* ---------------------------------------------------------------------------
     Movement Block
     --------------------------------------------------------------------------- */
  .movement-stats {
    display: flex;
    justify-content: space-around;
    padding: 3mm;
    border-bottom: 1px solid #ccc;
  }

  .movement-stat {
    text-align: center;
  }

  .movement-stat .value {
    font-size: 14pt;
    font-weight: 700;
  }

  .movement-stat .label {
    font-size: 8pt;
    text-transform: uppercase;
  }

  /* ---------------------------------------------------------------------------
     Weapons Table
     --------------------------------------------------------------------------- */
  .weapons-table,
  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 9pt;
    margin: 2mm 0;
  }

  .weapons-table th,
  table th {
    background-color: #e5e5e5 !important;
    color: #000 !important;
    font-weight: 700;
    text-align: left;
    padding: 2mm;
    border: 1px solid #999;
  }

  .weapons-table td,
  table td {
    padding: 1.5mm 2mm;
    border: 1px solid #ccc;
    color: #000 !important;
  }

  .weapons-table tr:nth-child(even),
  table tr:nth-child(even) {
    background-color: #f5f5f5 !important;
  }

  /* ---------------------------------------------------------------------------
     Armor/Structure Display
     --------------------------------------------------------------------------- */
  .armor-display {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3mm;
    padding: 3mm;
  }

  .armor-location {
    padding: 2mm;
    border: 1px solid #ccc;
    text-align: center;
  }

  .armor-location .location-name {
    font-size: 8pt;
    font-weight: 700;
    text-transform: uppercase;
  }

  .armor-location .armor-value {
    font-size: 11pt;
    font-weight: 700;
  }

  /* ---------------------------------------------------------------------------
     Heat Information
     --------------------------------------------------------------------------- */
  .heat-summary {
    display: flex;
    justify-content: space-between;
    padding: 3mm;
    background-color: #f9f9f9 !important;
    border-top: 1px solid #ccc;
  }

  .heat-item {
    text-align: center;
  }

  .heat-item .label {
    font-size: 8pt;
    text-transform: uppercase;
  }

  .heat-item .value {
    font-size: 12pt;
    font-weight: 700;
  }

  /* ---------------------------------------------------------------------------
     Equipment List
     --------------------------------------------------------------------------- */
  .equipment-list {
    column-count: 2;
    column-gap: 4mm;
    font-size: 9pt;
    padding: 3mm;
  }

  .equipment-item {
    break-inside: avoid;
    padding: 1mm 0;
    border-bottom: 1px dotted #ccc;
  }

  /* ---------------------------------------------------------------------------
     Links
     --------------------------------------------------------------------------- */
  a {
    color: #000 !important;
    text-decoration: underline;
  }

  /* Show URL after links */
  a[href]:after {
    content: ' (' attr(href) ')';
    font-size: 8pt;
    color: #666;
  }

  /* Don't show URL for internal links */
  a[href^='#']:after,
  a[href^='javascript']:after {
    content: '';
  }

  /* ---------------------------------------------------------------------------
     Page Breaks
     --------------------------------------------------------------------------- */
  h1,
  h2,
  h3 {
    page-break-after: avoid;
    break-after: avoid;
  }

  .unit-card,
  .weapons-table,
  table,
  .armor-display {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Force page break before specific elements */
  .page-break-before {
    page-break-before: always;
    break-before: always;
  }

  /* Force page break after specific elements */
  .page-break-after {
    page-break-after: always;
    break-after: always;
  }

  /* ---------------------------------------------------------------------------
     Print-Specific Utilities
     --------------------------------------------------------------------------- */
  .print-only {
    display: block !important;
  }

  .print-full-width {
    width: 100% !important;
  }

  .print-border {
    border: 1px solid #000 !important;
  }

  /* ---------------------------------------------------------------------------
     Color Overrides for High Contrast
     --------------------------------------------------------------------------- */
  * {
    /* Ensure text is readable */
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Remove background images */
  * {
    background-image: none !important;
  }

  /* ---------------------------------------------------------------------------
     Battle Value Footer
     --------------------------------------------------------------------------- */
  .unit-card-footer,
  .battle-value-display {
    text-align: right;
    padding: 3mm;
    border-top: 2px solid #000;
    font-size: 10pt;
  }

  .battle-value-display .bv-label {
    font-weight: 400;
  }

  .battle-value-display .bv-value {
    font-weight: 700;
    font-size: 12pt;
  }
}

/* =============================================================================
   SCREEN-ONLY ELEMENTS (hidden in print)
   ============================================================================= */

.print-only {
  display: none;
}
