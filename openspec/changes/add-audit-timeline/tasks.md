# Tasks: Audit Timeline

## 1. Timeline View

- [x] 1.1 Create EventTimelineItem component
- [x] 1.2 Create EventTimeline component (virtualized list)
- [x] 1.3 Add category/type filtering
- [x] 1.4 Add context filtering (campaign, pilot, unit)
- [x] 1.5 Add time range picker
- [x] 1.6 Add infinite scroll / pagination

## 2. Diff View

- [x] 2.1 Create StateDiffView component
- [x] 2.2 Implement state comparison logic
- [x] 2.3 Add checkpoint selector (before/after)
- [x] 2.4 Highlight changed fields
- [x] 2.5 Support nested object diffing

## 3. Query Builder

- [x] 3.1 Create EventQueryBuilder component
- [x] 3.2 Add filter chips for active filters
- [x] 3.3 Add saved query support
- [x] 3.4 Add export results (JSON, CSV)

## 4. Replay Player

- [x] 4.1 Create ReplayControls component (play/pause/step)
- [x] 4.2 Create ReplayTimeline component (scrubber)
- [x] 4.3 Integrate with existing GameplayLayout
- [x] 4.4 Add playback speed control
- [x] 4.5 Add event-by-event stepping

## 5. Causality Graph

- [x] 5.1 Create CausalityGraph component
- [x] 5.2 Implement DAG layout algorithm
- [x] 5.3 Add zoom/pan controls
- [x] 5.4 Add node click to show event details
- [x] 5.5 Highlight path from selected event to root

## 6. Pages

- [x] 6.1 Create AuditTimelinePage
- [x] 6.2 Add audit tab to CampaignDetailPage
- [x] 6.3 Add career timeline to PilotDetailPage
- [x] 6.4 Add replay mode to game detail

## 7. Testing

- [x] 7.1 Unit tests for timeline components
- [x] 7.2 Unit tests for diff logic
- [x] 7.3 Integration tests for query builder
- [x] 7.4 E2E tests for replay player
