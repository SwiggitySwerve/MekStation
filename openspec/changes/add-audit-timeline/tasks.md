# Tasks: Audit Timeline

## 1. Timeline View

- [ ] 1.1 Create EventTimelineItem component
- [ ] 1.2 Create EventTimeline component (virtualized list)
- [ ] 1.3 Add category/type filtering
- [ ] 1.4 Add context filtering (campaign, pilot, unit)
- [ ] 1.5 Add time range picker
- [ ] 1.6 Add infinite scroll / pagination

## 2. Diff View

- [ ] 2.1 Create StateDiffView component
- [ ] 2.2 Implement state comparison logic
- [ ] 2.3 Add checkpoint selector (before/after)
- [ ] 2.4 Highlight changed fields
- [ ] 2.5 Support nested object diffing

## 3. Query Builder

- [ ] 3.1 Create EventQueryBuilder component
- [ ] 3.2 Add filter chips for active filters
- [ ] 3.3 Add saved query support
- [ ] 3.4 Add export results (JSON, CSV)

## 4. Replay Player

- [ ] 4.1 Create ReplayControls component (play/pause/step)
- [ ] 4.2 Create ReplayTimeline component (scrubber)
- [ ] 4.3 Integrate with existing GameplayLayout
- [ ] 4.4 Add playback speed control
- [ ] 4.5 Add event-by-event stepping

## 5. Causality Graph

- [ ] 5.1 Create CausalityGraph component
- [ ] 5.2 Implement DAG layout algorithm
- [ ] 5.3 Add zoom/pan controls
- [ ] 5.4 Add node click to show event details
- [ ] 5.5 Highlight path from selected event to root

## 6. Pages

- [ ] 6.1 Create AuditTimelinePage
- [ ] 6.2 Add audit tab to CampaignDetailPage
- [ ] 6.3 Add career timeline to PilotDetailPage
- [ ] 6.4 Add replay mode to game detail

## 7. Testing

- [ ] 7.1 Unit tests for timeline components
- [ ] 7.2 Unit tests for diff logic
- [ ] 7.3 Integration tests for query builder
- [ ] 7.4 E2E tests for replay player
